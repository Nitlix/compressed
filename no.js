var activesetting="account",sessionsinfo=[],editing=null,editid=null,rem=16,password=null,sessiondisplaying=null,months=["January","February","March","April","May","June","July","August","September","October","November","December"];function showSetting(t){var e=document.querySelectorAll(".account-settings-setting");for(document.getElementById(activesetting+"-button").classList.remove("active"),activesetting=t,document.getElementById(activesetting+"-button").classList.add("active"),i=0;i<e.length;i++)try{e[i].classList.remove("active")}catch(t){}document.getElementById(t).classList.add("active")}function randomNum(t,e){return Math.floor(Math.random()*(e-t))+t}function showSession(){document.getElementById("sessionid").innerText==localStorage.getItem("account-session")?document.getElementById("sessionid").innerText="":document.getElementById("sessionid").innerText=localStorage.getItem("account-session")}function showPassword(){document.getElementById("password").innerText==password?document.getElementById("password").innerText="":document.getElementById("password").innerText=password}function toTwo(t){return 1==t.toString().length?"0"+t.toString():t.toString()}function copySession(){navigator.clipboard.writeText(localStorage.getItem("account-session")),document.getElementById("success-text").innerText="Copied!",document.getElementById("success-display").classList.add("active"),setTimeout(function(){document.getElementById("success-display").classList.remove("active")},2500)}function edit(t,e,n){editing=t,editid=n,document.getElementById("editing").innerText=e,document.getElementById("edit").style.transform="none"}function colorLuminance(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t.replace(/(.)/g,"$1$1")),e=e||0;for(var n,s="#",i=0;i<3;++i)n=parseInt(t.substr(2*i,2),16),s+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16))).substr(n.length);return s}function cancelEdit(){document.getElementById("edit").style.transform="translateY(200%)"}function confirmEdit(){value=document.getElementById("edit-value").value,"colour"==editing&&(value=value.replace("#","")),document.getElementById("edit-pass").value==password?fetch("https://api.nitlix.pro/api/v1/accounts/edit?session="+localStorage.getItem("account-session")+"&parameter="+editing+"&value="+value).then(t=>t.json()).then(t=>{t.OK?(document.getElementById("success-text").innerText=t.resp,document.getElementById("success-display").classList.add("active"),setTimeout(function(){document.getElementById("success-display").classList.remove("active")},2500),document.getElementById(editid).innerText=value,cancelEdit()):(document.getElementById("fail-text").innerText=t.resp,document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500))}):(document.getElementById("fail-text").innerText="The password isn't correct :(",document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500)),document.getElementById("edit").style.transform="none"}function loginandGetSession(t=document.getElementById("logreg-nick").value,e=document.getElementById("logreg-pass").value){fetch("https://api.nitlix.pro/api/v1/accounts/login?user="+t+"&pass="+e).then(t=>t.json()).then(t=>{t.OK?(document.getElementById("success-text").innerText="Logged in!",document.getElementById("success-display").classList.add("active"),setTimeout(function(){document.getElementById("success-display").classList.remove("active")},2500),localStorage.setItem("account-session",t.resp.sessionCreated),login(t.resp.sessionCreated),document.getElementById("login").style.opacity="0",setTimeout(function(){document.getElementById("login").style.display="none"},500)):(document.getElementById("fail-text").innerText=t.resp,document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500))})}function registerRaw(){if(user=document.getElementById("logreg-nick").value,pass=document.getElementById("logreg-pass").value,user.length>=1&&pass.length>=1){var t=/^[A-Za-z0-9]*$/;t.test(pass.replace(/\s/g,""))&&t.test(user)&&!pass.includes("&")&&!user.includes("&")?register(user,pass):(document.getElementById("fail-text").innerText="Those can only include english letters & numbers :)",document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500))}else document.getElementById("fail-text").innerText="I think you left something blank!",document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500)}function wait(t){const e=Date.now();let n=null;do{n=Date.now()}while(n-e<t)}function register(t,e){fetch("https://api.nitlix.pro/api/v1/accounts/register?user="+t+"&pass="+e).then(t=>t.json()).then(n=>{n.OK?loginandGetSession(t,e):(document.getElementById("fail-text").innerText=n.resp,document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500))})}function login(t){fetch("https://api.nitlix.pro/api/v1/accounts/login?session="+localStorage.getItem("account-session")).then(t=>t.json()).then(t=>{const{OK:e,resp:n}=t;if(e){document.getElementById("password").innerText="",password=t.resp.pass,document.getElementById("sessionid").innerText="",document.getElementById("fullname").innerText=t.resp.forename+" "+t.resp.surname,document.getElementById("forename").innerText=t.resp.forename,document.getElementById("surname").innerText=t.resp.surname,document.getElementById("colour").innerText="#"+t.resp.colour,document.getElementById("email").innerText=t.resp.email,document.getElementById("nick").innerText=t.resp.nick,document.getElementById("id").innerText=t.resp.id;var s=document.querySelector(":root");for(s.style.setProperty("--account-color","#"+n.colour),s.style.setProperty("--account-color-darker",colorLuminance("#"+n.colour,-.3)),sf=document.querySelectorAll(".sessions-flex")[0],i=0;i<t.resp.sessions.length;i++)fetch("https://api.nitlix.pro/api/v1/accounts/session?session="+t.resp.sessions[i]+"&return="+i).then(t=>t.json()).then(t=>{const{resp:e,OK:n}=t;e.self==localStorage.getItem("account-session")?sf.innerHTML+='\n\t\t\t\t\t\t<div class="session">\n\t\t\t\t\t\t\t<div class="image-flex">\n\t\t\t\t\t\t\t\t<div style="background-image: url(\'https://static-maps.yandex.ru/1.x/?lang=en_US&l=map&size=500,300&pt='+t.resp.location[0].lon+","+t.resp.location[0].lat+',round&spn=3,3\'); object-fit: cover; background-position: center;background-size: cover;" class=session-image></div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="moresinfo pointer" onClick="showMoreSession('+t.resp.return+');">MORE INFO</div>\n\t\t\t\t\t\t\t<div class="session-text">\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bx-current-location\' style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content">Location: </h1>\n\t\t\t\t\t\t\t\t\t<img src="https://flagcdn.com/'+t.resp.location[0].countryCode.toLowerCase()+'.svg" style="margin-left: .5rem; height: .5rem; border-radius: .1rem; box-shadow: 0px 0px .75rem rgba(0, 0, 0, 0.2);margin-right: .1rem;">\n\t\t\t\t\t\t\t\t\t<span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.location[0].country+'</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bxs-devices\' style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Platform: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.platform+'</span></h1>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bxl-chrome\'  style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Browser: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.browser+'</span></h1>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bxs-check-circle\' style="color: var(--account-color);"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-desc" style="margin-left: .25rem; font-size: .9rem;">This device</h1>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>':sf.innerHTML+='\n\t\t\t\t\t\t<div class="session">\n\t\t\t\t\t\t\t<div class="image-flex">\n\t\t\t\t\t\t\t\t<div style="background-image: url(\'https://static-maps.yandex.ru/1.x/?lang=en_US&l=map&size=500,300&pt='+t.resp.location[0].lon+","+t.resp.location[0].lat+',round&spn=3,3\'); object-fit: cover; background-position: center;background-size: cover;" class=session-image></div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="moresinfo pointer" onClick="showMoreSession('+t.resp.return+');">MORE INFO</div>\n\t\t\t\t\t\t\t<div class="session-text">\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bx-current-location\' style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content">Location: </h1>\n\t\t\t\t\t\t\t\t\t<img src="https://flagcdn.com/'+t.resp.location[0].countryCode.toLowerCase()+'.svg" style="margin-left: .5rem; height: .5rem; border-radius: .1rem; box-shadow: 0px 0px .75rem rgba(0, 0, 0, 0.2);margin-right: .1rem;">\n\t\t\t\t\t\t\t\t\t<span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.location[0].country+'</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bxs-devices\' style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Platform: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.platform+'</span></h1>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t\t<i class=\'bx bxl-chrome\'  style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Browser: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+t.resp.browser+"</span></h1>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>",sessionsinfo.push(t.resp)}),wait(50)}else localStorage.removeItem("account-session"),window.location.reload()}).catch(t=>console.error(t))}function sessionSignOut(){fetch("https://api.nitlix.pro/api/v1/accounts/sessionsignout?session="+sessionsinfo[sessiondisplaying].self).then(t=>t.json()).then(t=>{t.OK?(document.getElementById("success-text").innerText=t.resp,document.getElementById("success-display").classList.add("active"),setTimeout(function(){document.getElementById("success-display").classList.remove("active")},2500),window.location.reload()):(document.getElementById("fail-text").innerText=t.resp,document.getElementById("fail-display").classList.add("active"),setTimeout(function(){document.getElementById("fail-display").classList.remove("active")},2500))})}function showMoreSession(t){t=parseInt(t);resp=sessionsinfo[t];var e=new Date(1e3*parseInt(resp.created));e=new Date(1e3*parseInt(parseInt(resp.created)+parseInt(t)));sessiondisplaying=t,document.getElementById("sessioninfo-created").innerText=toTwo(e.getDate())+" "+months[e.getMonth()]+" "+e.getFullYear(),document.getElementById("sessioninfo-platform").innerText=resp.platform,document.getElementById("sessioninfo-browser").innerText=resp.browser,document.getElementById("sessioninfo-ip").innerText=resp.ip,document.getElementById("sessioninfo-id").innerText=resp.self,document.getElementById("sessioninfo-user").innerText=resp.user;var n=document.getElementById("sessionHistory");for(n.innerHTML='<div class="data-flex" style="align-self: flex-end;width: 100%; justify-content: center; align-items: center;">\n\t\t\t<i class="bx bx-current-location" style="margin-right: .1rem; font-size: 1.25rem;"></i>\n\t\t\t<h1 class="slide-title" style="width: max-content; font-size: 1.5rem;">Location History</h1>\n\t\t</div>\n\t\t<div style="height: 3rem;"></div>',i=0;i<resp.location.length;i++){t=60*-(e=new Date(1e3*parseInt(resp.location[i].time))).getTimezoneOffset(),n.innerHTML+='\n\t\t\t\t<div class="session-line" style="margin-top: 1rem;">\n\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class="session-locator">\n\t\t\t\t<div style="background-image: url(\'https://static-maps.yandex.ru/1.x/?lang=en_US&amp;l=map&amp;size=500,300&amp;pt='+resp.location[i].lon+","+resp.location[i].lat+',round&amp;spn=3,3\'); object-fit: cover; background-position: center;background-size: cover; height: 10rem; aspect-ratio: .7; border-radius: 1rem 0 0 1rem;"></div>\n\t\t\t\t\t\n\n\t\t\t\t\t<div class="session-text" style="margin: .5rem 1rem .5rem 1rem;">\n\n\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t<i class="bx bxs-flag" style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Country: <span class="account-highlight slide-desc" style="font-size: .875rem;"></span></h1>\n\t\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t\t<img src="https://flagcdn.com/'+resp.location[i].countryCode.toLowerCase()+'.svg" style="margin-left: .5rem; height: .5rem; border-radius: .1rem; box-shadow: 0px 0px .75rem rgba(0, 0, 0, 0.2);margin-right: .1rem; margin-bottom: 0.1rem;">\n\t\t\t\t\t\t\t\t<span class="account-highlight slide-desc" style="font-size: .875rem; line-height: .875rem;">'+resp.location[i].country+'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t<i class="bx bxs-city" style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">City: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+resp.location[i].city+'</span></h1>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t<i class="bx bxs-analyse" style="margin-right: .1rem;"></i>\n\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">IP Adress: <span class="account-highlight slide-desc" style="font-size: .875rem;">'+resp.location[i].query+'</span></h1>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="data-flex" style="align-self: flex-end;">\n\t\t\t\t\t\t\t<i class="bx bxs-map-alt" style="margin-right: .1rem; align-self: flex-start"></i>\n\t\t\t\t\t\t\t<h1 class="slide-little" style="width: max-content; text-align: right;">Approx. Location: <br><span class="account-highlight slide-desc" style="font-size: .875rem;">'+resp.location[i].lat+","+resp.location[i].lon+'</span></h1>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\n\t\t\n\n\t\t\t\t\t\t<h1 class="slide-desc" style="margin-left: .25rem; font-size: .9rem; color: var(--text-color-barely); width: max-content; text-align: right; align-self: flex-end; margin-top: 1rem;">'+toTwo(e.getHours())+":"+toTwo(e.getMinutes())+":"+toTwo(e.getSeconds())+" "+toTwo(e.getDate())+"/"+toTwo(e.getMonth()+1)+"/"+e.getFullYear()+"</h1>\n\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\n\t\t\t</div>"}resp.self==localStorage.getItem("account-session")?(document.getElementById("sessioninfo-this").style.display="flex",document.getElementById("sessioninfo-not-this").style.display="none"):(document.getElementById("sessioninfo-this").style.display="none",document.getElementById("sessioninfo-not-this").style.display="flex"),document.querySelectorAll(".session-line")[0].style.display="none",document.getElementById("sessioninfo").style.transform="none"}function hideMoreSession(){document.getElementById("sessioninfo").style.transform="translateY(125%)"}window.onload=function(){rem=nitChangeScreen(!0),showSetting("account"),null==localStorage.getItem("account-session")?(document.getElementById("login").style.display="grid",document.getElementById("login").style.opacity="1"):login();var t=document.querySelectorAll(".menu-show");for(i=0;i<t.length;i++)t[i].addEventListener("click",function(){document.getElementById("collapsible-menu").classList.contains("collapsible-menu-show")?document.getElementById("collapsible-menu").classList.remove("collapsible-menu-show"):document.getElementById("collapsible-menu").classList.add("collapsible-menu-show")});window.addEventListener("resize",function(){rem=nitChangeScreen(!0)}),document.addEventListener("scroll",function(t){window.pageYOffset>30?document.getElementById("header").classList.add("scrollheader"):document.getElementById("header").classList.remove("scrollheader")}),$("#preloader").delay(1550).fadeOut("slow"),$("body").delay(1050).css({overflow:"visible"}),setTimeout(function(){window.scrollTo(0,0),AOS.init({once:!0}),setTimeout(function(){document.documentElement.style.scrollBehavior="smooth",$(".loader-anim").on("animationiteration webkitAnimationIteration",function(){var t=$(this);t.removeClass("loader-anim"),t.off()})},1e3)},500)};